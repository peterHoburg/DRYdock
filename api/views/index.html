{{ block "index" . }}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://unpkg.com/htmx.org@2.0.3" integrity="sha384-0895/pl2MU10Hqc6jd4RvrthNlDiE9U1tWmX7WRESftEDRosgxNsQG/Ze9YMRzHq" crossorigin="anonymous"></script>
    <link href="css/style.css" rel="stylesheet">
  </head>

  <body>
     {{ template "containerForm" }}
  </body>
</html>
{{ end }}



{{ block "containerForm" . }}
<form id="checked-containers"
      hx-post="/containers/run"
      hx-get="/compose"
      hx-trigger="load"
      hx-swap="outerHTML"
      hx-target="#tbody">
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Path</th>
        <th>Active</th>
      </tr>
    </thead>
    <tbody id="tbody">
      {{ template "containerRows" }}
    </tbody>
  </table>
  <input type="submit" value="Run" class="btn primary">
  <span id="toast"></span>
</form>
{{ end }}

{{ block "containerRows" . }}
  {{range $val := .}}
  <tr>
    <td> {{$val.Name}}</td>
    <td> {{$val.Path}}</td>
    <td><input type="checkbox" name="active:{{$val.Name}}"></td>
  </tr>
  {{ end }}
{{ end }}
